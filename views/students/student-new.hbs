<div class="d-flex justify-content-between feature-header">
    <div>
        <h3 class="content-head d-inline">{{featureTitle}}</h3> Â»
        <span><a href="/students"> Students</a></span>
    </div>
</div>

<div class="content-body">
    <section id="basic-horizontal-layouts">
        <div class="row match-height">
            <div class="col-12 mx-auto">
                <div class="card py-2">
                    <div class="card-content">
                        <div class="card-body">
                            <form action="{{action}}" method="POST" class="form form-horizontal">
                                <div class="form-body">

                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="firstname">First Name</label>
                                                <input type="text" id="firstname" class="form-control" name="firstname"
                                                    value="{{firstname}}">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="middlename">Middle Name</label>
                                                <input type="text" id="middlename" class="form-control"
                                                    name="middlename" value="{{middlename}}">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="lastname">Last Name</label>
                                                <input type="text" id="lastname" class="form-control" name="lastname"
                                                    value="{{lastname}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="batch" id="demo">Batch</label>
                                                <select class="form-control" id="batch" name="batch" {{!-- onchange="getOption(this)" --}}>
                                                    <option selected>Select A Batch</option>
                                                    {{#each batches}}
                                                    <option value="{{_id}}" {{selected ../batch name}}>{{name}}
                                                    </option>
                                                    {{/each}}
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-4">
                                            <div class="form-group subjects-on-admission">
                                                <label for="subjects">Subjects</label><br>
                                                <select class="form-control" id="subjects" multiple="multiple">
                                                    {{!-- {{#filterCollection subjects "batch" "603b0c8ec923d1209b4bb136"}} --}}
                                                    <option value="{{name}}">{{name}}</option>
                                                    {{!-- {{/filterCollection}} --}}
                                                </select>
                                            </div>
                                        </div>                                        

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="firstclass">First Class Date</label>
                                                <input type="date" id="firstclass" class="form-control"
                                                    name="firstclass" value="{{firstclass}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="idtype">ID Type</label>
                                                <select class="form-control" id="idtype" name="idtype">
                                                    <option selected>Select An ID Type</option>
                                                    <option value="Registro Civil" {{selected idtype "Registro Civil"}}>
                                                        Registro Civil</option>
                                                    <option value="Passport ID" {{selected idtype "Passport ID"}}>
                                                        Passport
                                                        ID</option>
                                                    <option value="Other" {{selected idtype "Other"}}>Other</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="idnumber">ID Number</label>
                                                <input type="text" id="idnumber" class="form-control" name="idnumber"
                                                    value="{{idnumber}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="gender">Gender</label>
                                                <select class="form-control" id="gender" name="gender">
                                                    <option selected>Select A Gender</option>
                                                    <option value="male" {{selected gender "male"}}>Male</option>
                                                    <option value="female" {{selected gender "female"}}>Female</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="email">Email</label>
                                                <input type="email" id="email" class="form-control" name="email"
                                                    value="{{email}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="birthdate">Birth Date</label>
                                                <input type="date" id="birthdate" class="form-control" name="birthdate"
                                                    value="{{birthdate}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="insurance">Health Insurance</label>
                                                <input type="text" id="insurance" class="form-control" name="insurance"
                                                    value="{{insurance}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="phone">Phone</label>
                                                <input type="text" id="phone" class="form-control" name="phone"
                                                    value="{{phone}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="mobile">Mobile</label>
                                                <input type="text" id="mobile" class="form-control" name="mobile"
                                                    value="{{mobile}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="username">Username</label>
                                                <input type="text" id="username" class="form-control" name="username"
                                                    value="{{username}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="password">Password</label>
                                                <input type="text" id="password" class="form-control" name="password"
                                                    value="{{password}}">
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="address">Address</label>
                                                <textarea id="address" class="form-control"
                                                    name="address">{{address}}</textarea>
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="notes">Admission Notes</label>
                                                <textarea id="notes" class="form-control"
                                                    name="notes">{{notes}}</textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-12 d-flex flex-row">
                                            <button type="submit" class="btn btn-primary mr-1 mb-1"
                                                href="#">Save</button>
                                            <a class="btn btn-secondary mr-1 mb-1" href="/students">Cancel</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>



<script type="text/javascript" src="/plugins/multiple-select/docs/js/jquery-2.1.3.min.js"></script>

{{#contentFor "pageScripts"}}
<script type="text/javascript" src="/assets/js/students.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#subjects').multiselect({
            includeSelectAllOption: true,
            nonSelectedText: "Select Subjects"
        });
    });
</script>
{{/contentFor}}

<script>
    function getOption() {
        let x = document.getElementById("batch");
        return document.getElementById("demo").innerHTML = x.options[x.selectedIndex].value;
    }
</script>